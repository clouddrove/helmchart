â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    RelayBot Deployed! ğŸ¤–                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Release: {{ .Release.Name }}
Namespace: {{ .Release.Namespace }}
{{- if .Values.clientName }}
Client: {{ .Values.clientName }}
{{- end }}

=============================================================================
CONFIGURATION
=============================================================================

Image: {{ .Values.image.repository }}:{{ .Values.image.tag }}

Sync Settings:
  Destination Channel: {{ .Values.destinationChannelId | default "âš ï¸  NOT SET" }}
  Sync Interval: {{ .Values.syncInterval }}s
  {{- if .Values.sourceChannelIds }}
  Source Channels: {{ join ", " .Values.sourceChannelIds }}
  {{- else }}
  Auto-discovery: {{ if .Values.autoDiscover.enabled }}âœ“ Enabled{{ else }}âœ— Disabled{{ end }}
  {{- if .Values.autoDiscover.enabled }}
  Discovery Types: {{ join ", " .Values.autoDiscover.types }}
  {{- end }}
  {{- end }}

{{- if .Values.persistence.enabled }}
Persistence: âœ“ Enabled ({{ .Values.persistence.size }})
{{- else }}
Persistence: âœ— Disabled (ephemeral)
{{- end }}

{{- if .Values.metrics.enabled }}
Metrics: âœ“ Enabled on port {{ .Values.metrics.port }}
{{- else }}
Metrics: âœ— Disabled
{{- end }}

=============================================================================
QUICK START
=============================================================================

1. Check deployment status:
   kubectl get deployment {{ include "relaybot.fullname" . }} -n {{ .Release.Namespace }}

2. View logs:
   kubectl logs -f deployment/{{ include "relaybot.fullname" . }} -n {{ .Release.Namespace }}

3. Check sync state:
   kubectl exec deployment/{{ include "relaybot.fullname" . }} -n {{ .Release.Namespace }} -- cat {{ .Values.tsFile }}

{{- if .Values.metrics.enabled }}

4. Access metrics locally:
   kubectl port-forward service/{{ include "relaybot.fullname" . }}-metrics {{ .Values.metrics.port }}:{{ .Values.metrics.port }} -n {{ .Release.Namespace }}
   curl http://localhost:{{ .Values.metrics.port }}/metrics
{{- end }}

=============================================================================
WARNINGS
=============================================================================

{{- if and .Values.secrets.create (or (not .Values.secrets.clientSlackToken) (not .Values.secrets.personalSlackToken)) }}

âš ï¸  WARNING: Secrets created but tokens are empty!
   Update your installation:

   helm upgrade {{ .Release.Name }} ./helm \
     --set secrets.clientSlackToken="xoxp-your-client-token" \
     --set secrets.personalSlackToken="xoxp-your-personal-token" \
     --set destinationChannelId="C0987654321"

{{- end }}

{{- if not .Values.destinationChannelId }}

âš ï¸  WARNING: No destination channel ID configured!
   Messages won't be forwarded without this setting.

{{- end }}

{{- if not .Values.image.pullSecrets }}

ğŸ’¡ TIP: Using private GitHub Container Registry?
   Create an image pull secret:

   kubectl create secret docker-registry ghcr-secret \
     --docker-server=ghcr.io \
     --docker-username=YOUR_GITHUB_USERNAME \
     --docker-password=YOUR_GITHUB_TOKEN \
     --docker-email=YOUR_EMAIL \
     -n {{ .Release.Namespace }}

   Then upgrade with: --set image.pullSecrets[0].name=ghcr-secret

{{- end }}

=============================================================================
MULTI-CLIENT DEPLOYMENT
=============================================================================

To deploy for multiple clients, use client-specific values:

  helm install relaybot-bridj ./helm -f helm/clients/bridj-ai.yaml
  helm install relaybot-printfriendly ./helm -f helm/clients/printfriendly.yaml
  helm install relaybot-icardio ./helm -f helm/clients/icardio.yaml
  helm install relaybot-managinglife ./helm -f helm/clients/managinglife.yaml
  helm install relaybot-fidelity ./helm -f helm/clients/fidelity.yaml

=============================================================================

Documentation: https://github.com/YOUR_ORG/relaybot
Issues: https://github.com/YOUR_ORG/relaybot/issues

Happy relaying! ğŸš€
