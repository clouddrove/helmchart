# Default values for pass2gh
# This is a YAML-formatted file.

# 1Password Configuration
onepassword:
  vaultId: "your-vault-id"
  token: "CHANGE_ME"  # Set via --set or use existing secret

# GitHub Configuration
github:
  org: "clouddrove"
  repos: []
  token: "CHANGE_ME"  # Set via --set or use existing secret

# Existing Secret (optional)
existingSecret:
  enabled: false
  name: ""                       # Use this secret instead of creating one
  onepasswordKey: "onepassword-token"
  githubKey: "github-token"

# Organization Secrets Mapping
# Format: GitHub Secret Name -> 1Password Item Title (string) or Object with item_type
# Examples:
#   Simple: DATABASE_URL: "DATABASE_URL"  (uses 'password' field)
#   SSH Key: SSH_KEY: {"item_type": "ssh_key"}  (auto-detects private key field)
#   Document: SSL_CERT: {"item_type": "document"}  (uses document content)
#   File: CONFIG_FILE: {"item_type": "file"}  (uses file attachment)
orgSecrets: {}

# Repository Secrets Mapping
# Format: Repository -> {GitHub Secret Name -> 1Password Item Title or Object}
repoSecrets: {}

# Deploy Keys Configuration (optional)
# Format: Repository -> Key Title (string) or Object with key_title and read_only
deployKeys: {}

# Deployment Configuration
deployment:
  # Use CronJob (recommended) or Deployment
  type: "CronJob"  # Options: "CronJob" or "Deployment"
  
  # CronJob specific settings
  cronJob:
    schedule: "0 * * * *"  # Run every hour
    successfulJobsHistoryLimit: 3
    failedJobsHistoryLimit: 1
  
  # Deployment specific settings
  deployment:
    replicas: 1
    syncInterval: 3600  # Sync every hour (in seconds)

# Image Configuration
image:
  repository: ghcr.io/clouddrove/pass2gh  # GitHub Container Registry
  tag: "latest"
  pullPolicy: IfNotPresent

# Image pull secrets (optional)
imagePullSecrets: []
# - name: regcred

# Resource Limits
resources:
  requests:
    memory: "128Mi"
    cpu: "100m"
  limits:
    memory: "256Mi"
    cpu: "200m"

# Service Account (optional)
serviceAccount:
  create: true
  name: ""

# Security Context
securityContext:
  runAsNonRoot: true
  runAsUser: 1000
  fsGroup: 1000

# Node Selector, Tolerations, Affinity (optional)
nodeSelector: {}
tolerations: []
affinity: {}
